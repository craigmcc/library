select * from volumes order by name;
select * from stories order by name;
select * from authors order by last_name, first_name;
\d checkins;
select * from facilities;
select checkin_date, count(checkin_date) from checkins where facility_id=3 group by checkin_date;
select checkin_date, count(checkin_date) from checkins where facility_id=3 group by checkin_date order by checkin_date;
delete from checkins where checkin_date='2021-06-26';
select checkin_date, count(checkin_date) from checkins where facility_id=3 group by checkin_date order by checkin_date;
select * from checkins where checkin_date='2021-03-26';
select * from facilities;
select checkin_date, count(checkin_date) from checkins where facility_id=6 order by checkin_date;
select checkin_date, count(checkin_date) from checkins where facility_id=6 group by checkin_date order by checkin_date;
delete from checkins where facility_id = 6 and checkin_date >= '2021-01-01';
select checkin_date, count(checkin_date) from checkins where facility_id=6 group by checkin_date order by checkin_date;
select checkin_date, count(checkin_date) from checkins where facility_id=6 group by checkin_date order by checkin_date;
\dt
\d series_stories
select * from series;
select * from series_stories;
\d series
select * from volumes where name like '%Volume%';
select * from volumes where name like '%Volume%' and library_id = 104 order by name;
select * from series where name like '%Volume%' and library_id = 104 order by name;
select * from series where library_id = 104 order by name;
select * from volumes where library_id=104 order by name;
select * from series order by library_id, name;
\select * from libraries;
select * from libraries;
select * from series_stories;
select * from authors_series;
select * from series where library_id = 104;
selec * from series_stories where series_id = 10 order by name;
select * from series_stories where series_id = 10 order by name;
select * from series_stories where series_id = 10;
select * from stories where id in (46,48,47);
select * from authors where library_id = 104;
select * from authors_series where series_id = 10;
select * from authors where id in (63,64)
;
select * from series;
select * from authors_series where series_id = 10;
select * from authors where id in (63,64)
;
select * from series where library_id = 104;
select * from series_stories where series_id = 10;
select * from authors_stories where story_id in (46,48,47);
insert into authors_stories (author_id, story_id) values (63,46);
select * from authors_stories where story_id in (46,48,47);
select * from stories where id in (47,48,46);
insert into authors_stories (author_id, story_id) values (63,48);
select * from series_stories where series_id = 10;
update series_stories set ordinal = 2 where id = 25;
select * from series_stories where series_id = 10;
\d series_stories
select * from stories where library_id = 104;
select * from stories where library_id = 104;
select * from stories where library_id = 104;
select * from stories where library_id = 104;
select * from series_stories where id > 220;
select * from series_stories where story_d > 220;
select * from series_stories where story_id > 220;
select * from series_stories where story_id > 220;
select * from stories where library_id = 104;
select * from series;
delete from series where id = 13;
select * from stories where library_id = 104;
\d series_stories
\d authors_stories
select * from series_stories where series_id=14;
select * from series_stories where series_id=14;
select * from series_stories where series_id=14;
select * from series_stories where series_id=14;
\d authors_series
\s authors_stories
\d
\dt
\d authors_series
\d authors_volumes
\d authors_stories
select * from series_stories where series_id = 15;
select * from stories where story_id = 50;
select * from stories where id = 50;
select * from series_stories where series_id = 15;
select * from users;
select * from series;
select * from series_stories where series_id = 15;
select * from author_series order by series_id;
select * from authors_series order by series_id;
select * from series ;
update authors_series set principal=true where id=64;
update authors_series set principal=true where author_id=64;
select * from authors_series where series_id = 10;
select * from authors where id in (64,63);
update authors_series set principal=false where id=16;
update authors_series set principal=true where id=17;
update authors_series set principal=false where id=17;;
update authors_series set principal=true where id=16;
update authors_series set principal=false where id=16;
update authors_series set principal=true where id=17;
select * from authors_stories where author_id=17;
select * from authors_stories;
select * from stories where library_id=104;
select * from authors_stories where story_id=48;
update authors_stories set principal=true where author_id = 64;
\d authors_series
\d authors_stories;
\d authors_volumes
select * from authors_volumes;
\d
\dt
select * from series;
select * from authors_series where series_id=15;
select * from authors where last_name = 'Cole';
select * from authors_stories where author_id = 86;
select * from stories where id in (206,279);
select * from stories where id in (173,239);
select * from volumes_stories where story_id in (173,239);
select * from volumes where id in (159,168);
select * from volumes_stories where volume_id in 159;
select * from volumes_stories where volume_id in (159);
select * from volumes where notes = 'Box A';
select * from volumes where notes = 'Box A';
update volumes set notes='Box "A"' where notes='Box A';
select * from volumes where notes like 'Box%';
select * from stories where notes like 'Slow Burn%';
select * from volumes where name = 'Slow Burn';
select * from volumes_stories where volume_id = 133;
select * from authors_stories where story_id in (140,182,183,184,185,186,187,188,189);
select * from authors_stories where author_id = 74;
select * from authors where id=74;
update authors_stories set principal=true where author_id=74 and principal=false;
select * from authors_stories where author_id = 74;
select principal, count()* from authors_stories group by principal;
select principal, count(*) from authors_stories group by principal;
update authors_stories set principal=true;
update authors_volumes set principal=true;
select principal, count(*) from authors_series group by principal;
select * from authors_series where principal=false;
select * from series where id in (9,15,10);
select principal, count(*) from authors_volumes group by principal;
select * from authors where last_name = 'Adams';
select * from authors_volumes where author_id=77;
select * from volumes where id in (137,138,139,140);
select count(*) from volumes;
select count(*) from stories;
select count(*) from series;
select count(*) from authors;
=dt
\dt
\dt
copy federal-oregon-expenditures-2010 from '/home/craigmcc/Downloads/CENSUS FederalFunds_2010Data_OR.csv' with csv header;
copy federal_oregon_expenditures_2010 from '/home/craigmcc/Downloads/CENSUS FederalFunds_2010Data_OR.csv' with csv header;
\dt
create table 
copy federal_oregon_expenditures_2010 from '/home/craigmcc/Downloads/CENSUS FederalFunds_2010Data_OR.csv' DELIMITER ',' CSV HEADER QUOTE '\"' ESCAPE '";"';
copy federal_oregon_expenditures_2010 from '/home/craigmcc/Downloads/CENSUS FederalFunds_2010Data_OR.csv' DELIMITER ',' CSV HEADER QUOTE '\"' ESCAPE '";"';
create table federal_oregon_expenditures_2010;
create table federal;
\dt
copy federal from '/home/craigmcc/Downloads/CENSUS FederalFunds_2010Data_OR.csv' DELIMITER ',' CSV HEADER QUOTE '\"' ESCAPE '";"';
copy federal from '/home/craigmcc/Downloads/CENSUS FederalFunds_2010Data_OR.csv' DELIMITER ',' CSV HEADER ESCAPE '";"';
copy federal from '/home/craigmcc/Downloads/CENSUS FederalFunds_2010Data_OR.csv' DELIMITER ',' CSV HEADER;
copy federal from '/home/craigmcc/Downloads/Federal.csv' DELIMITER ',' CSV HEADER;
copy federal from '/Users/craigmcc/Downloads/Federal.csv' DELIMITER ',' CSV HEADER;
select * from authors where library_id = 1;
select * from author where (library_id = 1);
select * from authors where (library_id = 1);
select * from authors where (library_id = 1) and (first_name ilike '%j%');
select * from authors where (library_id = 1) and (first_name ilike '%j%') and (last_name ilike '%all%');
\q
\dt
\d
\d users
\d users
\d volumes
\d
select * from refresh_tokens;
\d refresh_tokens
\dt
\d
select * from users;
select * from users;
select * from access_tokens;
select * from access_tokens;
select * from access_tokens;
select * from users;
select * from users;
select * from users;
select * from users;
select * from users;
select * from users;
select * from access_tokens;
select * from checkins
;
select * from access_tokens;
select * from users;
select * from access_tokens;
\dt
\d
\d
\d access_tokens
\d access_tokens
\d access_tokens
\d libraries;
\d authors
\d users
\d users
\d users
\d users
\d access_tokens
\d access_tokens
\d users
\d users
\d access_tokens
\d access_tokens
\d users
\d users
\d users
\d users
\d users
\d users
\d users
\d users
select * from users;
\d facilities
\d guests
\d users
\d users
\d users
\d users
\d users
\d users
\d users
\d users
\d users
select * from users;
select * from users;
insert into users (active, name, password, scope, username) values (true, 'Manual Name', 'manualpassword', 'manualscope', 'manualusername');
select * from users;
\d users
\d facilities
\d users
\d access_tokens
\d facilities
select * from facilities;
select * from facilities order by id;
\d
\d facilities
select * from facilities;
\d
\d facilities
\d facilities;
\d
\d
\d templates
\d facilities
\d facilities
\d
\d templates
\d facilities
\d templates
select * from templates;
select * from facilities;
select * from users;
select * from users;
select * from users;
select * from facilities;
select * from templates;
select * from templates;
select * from templates;
\d templates
\d 
\d facilities
\d templates
\d templates
\d guests
\d checkins
\d guests
\d checkins
\d guests
\d checkins
select * from users;
\d users;
\d access_tokens
\d refresh_tokens;
select * from users;
delete from users;
update users set active=false where username='superuser';
update users set active=true where username='superuser';
select * from users;
select * from users;
select * from users;
select * from users;
select * from users;
select * from users;
\d facilities;
select * from facilities;
delete from facilities where scope in ('future', 'another', 'moaah');
\dt templates 
\d templates
select * from templates;
select * from templates;
\d facilities
\d users
\d users
\dt guests;
\d guests;
\d
\d access_tokens
\d checkins
\d facilities
\dt
\d guests
\d refresh_tokens
\d templates
\d users
select scope from facilities;
select scope from users;
\d users
select count(*) from users;
select count(*) from access_tokens;
\dt
select count(*) from users;
select count(*) from access_tokens;
select count(*) from facilities;
select count(*) from guests;
select count(*) from access_tokens;
select count(*) from facilities;
select count(*) from guests;
select count(*) from checkins;
select * from users;
select * from users;
select * from users;
select * from users;
select * from facilities;
\q
select * from users;
select * from users;
\d stories
\d users
\d libraries
\d authors;
\dt
select * from volumes;
select * from authors;
\d 
\d access_tokens
\d refresh_tokens
\d
\d
\d
\d
\d
drop table cascade libraries;
drop table libraries cascade;
\d
drop table authors cascade;
drop table authors cascade;
\d
drop table series cascade;
drop table access_tokens ;
\
\d
\d
\d
\d volumes
\d authors
\d libraries
\d series;
\d stories
\d volumes
select * from volumes;
select library_id, count(library_id) from volumes;
select library_id, count(library_id) from volumes group by library_id;
select * from libraries;
\d series
\d
\d series
\d series
\d 
\d series
\d
\d libraries
\d libraries
select * from libraries
;
\d users
\d access_tokens
\d refresh_tokens
\d users
\d libraries
\d libraries
select * from libraries;
\d
select * from users;
select * from libraries;
\d
\d
\d
\d libraries
select * from libraries;
select * from libraries;
select * from libraries;
\dt
\d
select * from users;
\d users
;
\d libraries
\d access_tokens
\d refresh_tokens
\d
select * from guests;
select * from access_tokens;
select * from guests;
select * from facilities;
\d
\d
\d volumes
select * from volumes;
\d
\d libraries
\d volumes
\d
\d volumes
\d volumes
\d
\s stories
